{"ast":null,"code":"var _jsxFileName = \"/home/asus/dapify/src/templates/view/Home/homePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Button } from '@material-ui/core'; //Redux\n\nimport { useSelector, connect } from \"react-redux\";\nimport { getUserProfileById, fetchUser } from \"../../../Redux/actions/auth-actions\";\nimport { addNewsLetter } from \"../../../Redux/actions/subscriber-actions\";\nimport HomeAbout from './homeAbout';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport HomeAudio from './homeAudio';\nimport HomeVideoImage from './homeVideoAndImage';\nimport * as moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction HomePage(props) {\n  _s();\n\n  var _errors$email, _errors$email2;\n\n  console.log(\"HOMEPAGEPROPSSSS----\", props);\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: \"onChange\"\n  });\n  const {\n    userDetailsById,\n    authuser\n  } = useSelector(state => state.authReducer);\n  const [profileId, setProfileId] = useState();\n  useEffect(() => {\n    async function fetchdata() {\n      if (props.userProfileId) {\n        const profileid = Buffer.from(props.userProfileId, 'base64').toString('ascii');\n        setProfileId(profileid);\n        await props.getUserProfileById(profileid);\n      } else {\n        await props.getUserProfileById(authuser.uid);\n      }\n    }\n\n    fetchdata();\n  }, [authuser.uid]);\n\n  const onSubmit = async event => {\n    const data = {\n      subscribe_to: profileId,\n      email: event.email,\n      subscribe_by: authuser.uid\n    };\n    await props.addNewsLetter(data);\n  };\n\n  var linkarr = userDetailsById === null || userDetailsById === void 0 ? void 0 : userDetailsById.links;\n  var contentValues = '';\n\n  if (linkarr) {\n    function sortObj(obj) {\n      return Object.keys(obj).sort().reduce(function (result, key) {\n        result[key] = obj[key];\n        return result;\n      }, {});\n    }\n\n    linkarr = sortObj(linkarr);\n    contentValues = Object.values(linkarr);\n  }\n\n  const handleLinks = event => {\n    if (event) {\n      if (event.indexOf(\"http://\") === 0 || event.indexOf(\"https://\") === 0) {\n        window.open(event);\n      } else {\n        window.open('//' + event);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [(props === null || props === void 0 ? void 0 : props.userProfileId) && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submt-frm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"frm-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            type: \"text\",\n            placeholder: \"Dont forget to leave your email to keep up with me!\",\n            ...register('email', {\n              required: true,\n              pattern: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), (errors === null || errors === void 0 ? void 0 : (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"errMsg\",\n            children: \"This field is required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), (errors === null || errors === void 0 ? void 0 : (_errors$email2 = errors.email) === null || _errors$email2 === void 0 ? void 0 : _errors$email2.type) === \"pattern\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"errMsg\",\n            children: \"Email should be valid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"frm-btn\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            className: \"btn\",\n            children: \"SUBMIT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top-tb-btn\",\n      children: contentValues && /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: contentValues && contentValues.map((val, idx) => val !== null && val !== void 0 && val.title ? /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"btn\",\n            onClick: () => handleLinks(val.url),\n            children: val.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 47\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 33\n        }, this) : '')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(HomePage, \"uXb2e81ZuYzjW0MgX0vy9EwaAC4=\", false, function () {\n  return [useForm, useSelector];\n});\n\n_c = HomePage;\n\nconst mapStateToProps = state => {\n  return {\n    userDetailsById: state.authReducer.userDetailsById,\n    authuser: state.authReducer.authuser\n  };\n};\n\nconst actionCreators = {\n  getUserProfileById,\n  fetchUser,\n  addNewsLetter\n};\nexport default connect(mapStateToProps, actionCreators)(HomePage);\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","useForm","Button","useSelector","connect","getUserProfileById","fetchUser","addNewsLetter","HomeAbout","Tab","Tabs","TabList","TabPanel","HomeAudio","HomeVideoImage","moment","HomePage","props","console","log","register","handleSubmit","formState","errors","mode","userDetailsById","authuser","state","authReducer","profileId","setProfileId","fetchdata","userProfileId","profileid","Buffer","from","toString","uid","onSubmit","event","data","subscribe_to","email","subscribe_by","linkarr","links","contentValues","sortObj","obj","Object","keys","sort","reduce","result","key","values","handleLinks","indexOf","window","open","required","pattern","type","map","val","idx","title","url","mapStateToProps","actionCreators"],"sources":["/home/asus/dapify/src/templates/view/Home/homePage.js"],"sourcesContent":["import React, { useState,useEffect } from 'react'\nimport { useForm } from 'react-hook-form';\nimport { Button } from '@material-ui/core'\n\n//Redux\nimport { useSelector, connect } from \"react-redux\"; \nimport { getUserProfileById,fetchUser } from \"../../../Redux/actions/auth-actions\";\nimport {addNewsLetter} from \"../../../Redux/actions/subscriber-actions\";\nimport HomeAbout from './homeAbout';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport HomeAudio from './homeAudio';\nimport HomeVideoImage from './homeVideoAndImage';\nimport * as moment from 'moment';\n\nfunction HomePage(props) {\n    console.log(\"HOMEPAGEPROPSSSS----\", props);\n\n    const {\n        register,\n        handleSubmit,\n        formState: { errors },\n      } = useForm({\n        mode: \"onChange\",\n    });\n   \n    const { userDetailsById,authuser} = useSelector((state) => state.authReducer);\n    const [profileId,setProfileId] = useState();\n    \n\n    useEffect(() => {\n        async function fetchdata(){\n            if(props.userProfileId)\n            {\n                const profileid  = Buffer.from(props.userProfileId, 'base64').toString('ascii');\n                setProfileId(profileid);\n                await props.getUserProfileById(profileid);\n            }\n            else{\n                await props.getUserProfileById(authuser.uid);\n            }\n        }\n        fetchdata();\n        \n    },[authuser.uid]);\n    \n    const onSubmit = async (event) => {\n       \n        const data = {\n          subscribe_to: profileId,\n          email: event.email,\n          subscribe_by: authuser.uid,\n        };\n         await props.addNewsLetter(data);\n    };\n\n    var linkarr = userDetailsById?.links;\n    var contentValues ='';\n    if(linkarr){\n        function sortObj(obj) {\n            return Object.keys(obj).sort().reduce(function (result, key) {\n              result[key] = obj[key];\n              return result;\n            }, {});\n        }\n        linkarr =  sortObj(linkarr);\n        contentValues = Object.values(linkarr);\n    }\n\n    const handleLinks = (event) => {\n        if(event){\n           \n            if (event.indexOf(\"http://\") === 0 || event.indexOf(\"https://\") === 0) {\n                \n                window.open(event);\n            }\n            else{\n                window.open('//'+event);\n            }\n        }\n    };\n\n    return (\n        <>\n            \n            { props?.userProfileId &&\n            (\n             <form onSubmit={handleSubmit(onSubmit)}>\n                <div className='submt-frm'>\n               \n                    <div className='frm-input'>\n                        <input name=\"email\" type='text' placeholder=\"Dont forget to leave your email to keep up with me!\"\n                        {...register('email', {\n                            required: true,\n                            pattern:\n                              /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i, })} />\n                        {errors?.email?.type === \"required\" && (\n                            <p className=\"errMsg\">This field is required</p>\n                        )}\n                        {errors?.email?.type === \"pattern\" && (\n                            <p className=\"errMsg\">Email should be valid</p>\n                        )}\n                    </div>\n                    <div className='frm-btn'>\n                        <Button  type=\"submit\" className='btn'>\n                        SUBMIT\n                        </Button>\n                    </div>\n                </div>\n            </form>\n            )}\n            <div className='top-tb-btn'>\n                {  contentValues &&\n                    <ul>\n                        {\n                            contentValues && contentValues.map((val,idx) => \n                            val?.title ?\n                                <li key={idx}><span className='btn' onClick={() => handleLinks(val.url)}>{val.title}</span></li> :\n                            ''\n                            )\n                        }\n                    </ul>\n                }\n            </div>\n        </>\n    );\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        userDetailsById: state.authReducer.userDetailsById,\n        authuser: state.authReducer.authuser,\n    }\n}\n\nconst actionCreators = { getUserProfileById,fetchUser,addNewsLetter };\nexport default connect(mapStateToProps, actionCreators)(HomePage);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}