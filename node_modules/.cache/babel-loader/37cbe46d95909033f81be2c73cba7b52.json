{"ast":null,"code":"var _jsxFileName = \"/home/asus/dapify/src/templates/components/mediaLike.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { MediaMusicLike, getUserMediaMusic } from \"../../Redux/actions/media-actions\";\nimport { useSelector, connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MediaLike(props) {\n  _s();\n\n  const [likeCount, setLikeCount] = useState('');\n  const [btnDisable, setbtnDisable] = useState(false);\n  const [userLike, setUserLike] = useState(false);\n  const {\n    music_content_like\n  } = useSelector(state => state.mediaReducer);\n  const likestyle = {\n    color: '#FF0039'\n  };\n  const unlikestyle = {\n    color: 'black'\n  };\n  useEffect(() => {\n    if (props.mediaLikedata !== '') {\n      setbtnDisable(false);\n      var mediacount = '';\n      var userlikeStatus = false;\n\n      if (props.mediaLikedata) {\n        mediacount = Object.keys(props.mediaLikedata).length;\n\n        for (var i in props.mediaLikedata) {\n          if (i === props.userid) {\n            userlikeStatus = true;\n          }\n        }\n\n        setUserLike(userlikeStatus);\n        setLikeCount(mediacount);\n      } else {\n        setLikeCount(0);\n      }\n    }\n  }, [props, music_content_like, userLike]);\n\n  const handleLikes = async (event, postedById) => {\n    if (event) {\n      if (btnDisable === false) {\n        setbtnDisable(true);\n        var flag = false;\n        var data = '';\n        var result = {};\n\n        for (var i in props.mediaLikedata) {\n          if (i === props.userid) {\n            flag = true;\n          } else {\n            result[i] = props.mediaLikedata[i];\n          }\n        }\n\n        if (flag) {\n          let uid = props.userid;\n          data = {\n            id: event,\n            user_likes: result,\n            type: 'unlike',\n            by_id: uid,\n            postedUserId: postedById\n          };\n        } else {\n          let uid = props.userid;\n          data = {\n            id: event,\n            user_likes: {\n              [uid]: true\n            },\n            type: 'like',\n            by_id: uid,\n            postedUserId: postedById\n          };\n        }\n\n        await props.MediaMusicLike(data);\n      }\n    }\n  };\n\n  return userLike === true ? /*#__PURE__*/_jsxDEV(\"span\", {\n    disabled: btnDisable,\n    style: likestyle,\n    onClick: () => handleLikes(props.media_id, props.postedById),\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: require('../../assets/images/heart.svg').default,\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 120\n    }, this), \" \", likeCount, \" Likes\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n    disabled: btnDisable,\n    style: unlikestyle,\n    onClick: () => handleLikes(props.media_id, props.postedById),\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: require('../../assets/images/heart.svg').default,\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 122\n    }, this), \" \", likeCount, \" Likes\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 13\n  }, this);\n}\n\n_s(MediaLike, \"/AjvzaucRDvcuAt+VldBhUUUR+o=\", false, function () {\n  return [useSelector];\n});\n\n_c = MediaLike;\n\nconst mapStateToProps = state => {\n  return {\n    music_content_like: state.mediaReducer.music_content_like\n  };\n};\n\nconst actionCreators = {\n  MediaMusicLike,\n  getUserMediaMusic\n};\nexport default connect(mapStateToProps, actionCreators)(MediaLike);\n\nvar _c;\n\n$RefreshReg$(_c, \"MediaLike\");","map":{"version":3,"names":["React","useState","useEffect","MediaMusicLike","getUserMediaMusic","useSelector","connect","MediaLike","props","likeCount","setLikeCount","btnDisable","setbtnDisable","userLike","setUserLike","music_content_like","state","mediaReducer","likestyle","color","unlikestyle","mediaLikedata","mediacount","userlikeStatus","Object","keys","length","i","userid","handleLikes","event","postedById","flag","data","result","uid","id","user_likes","type","by_id","postedUserId","media_id","require","default","mapStateToProps","actionCreators"],"sources":["/home/asus/dapify/src/templates/components/mediaLike.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { MediaMusicLike,getUserMediaMusic } from \"../../Redux/actions/media-actions\";\nimport { useSelector, connect } from \"react-redux\";\n\nfunction MediaLike(props) {\n    \n    const [likeCount, setLikeCount] = useState('');\n    const [btnDisable, setbtnDisable] = useState(false);\n    const [userLike, setUserLike] = useState(false);\n    const { music_content_like } = useSelector((state) => state.mediaReducer);\n    const likestyle = {\n        color: '#FF0039',\n    }\n    const unlikestyle = {\n        color: 'black',\n    }\n    \n    useEffect(() => {\n        \n        if (props.mediaLikedata !== '') {\n            setbtnDisable(false);\n            var  mediacount ='';\n            var userlikeStatus = false;\n            if(props.mediaLikedata){\n\n                mediacount = Object.keys(props.mediaLikedata).length;\n                for(var i in props.mediaLikedata)\n                {\n                    if(i === props.userid ){ \n                        userlikeStatus = true;                 \n                    }\n                }\n                setUserLike(userlikeStatus);\n                setLikeCount(mediacount);\n            }else{\n                setLikeCount(0);\n            }\n        }\n    }, [props,music_content_like,userLike]);\n\n\n    const handleLikes = async (event,postedById) => {\n        if(event){\n            \n            if(btnDisable === false)\n            {\n                setbtnDisable(true);\n                var flag = false;\n                var data ='';\n                var result = {};\n\n                for(var i in props.mediaLikedata)\n                {\n                    if(i === props.userid){   \n                        flag = true;\n                    }\n                    else{\n\n                        result[i] = props.mediaLikedata[i];\n                    }\n                }\n\n                if(flag){\n                    let uid = props.userid;\n                    data = {\n                        id: event,\n                        user_likes: result,\n                        type: 'unlike',\n                        by_id :uid,\n                        postedUserId :postedById,\n                    };\n                \n                }else{\n                    let uid = props.userid;\n                    \n                    data = {\n                        id: event,\n                        user_likes: {\n                            [uid] : true\n                        } ,\n                        type: 'like',\n                        by_id :uid,\n                        postedUserId :postedById,\n                    };\n                }\n            \n                await props.MediaMusicLike(data);\n            }\n        }\n    };\n   \n    return (\n           \n        userLike === true ? (\n            <span disabled={btnDisable} style={likestyle} onClick={() => handleLikes(props.media_id,props.postedById)}><img src={require('../../assets/images/heart.svg').default} alt='' /> {likeCount} Likes</span>\n        ) \n        : (\n            <span disabled={btnDisable} style={unlikestyle} onClick={() => handleLikes(props.media_id,props.postedById)}><img src={require('../../assets/images/heart.svg').default} alt='' /> {likeCount} Likes</span>\n        )\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        music_content_like: state.mediaReducer.music_content_like,\n    }\n}\n\n\nconst actionCreators = {MediaMusicLike,getUserMediaMusic };\nexport default connect(mapStateToProps,actionCreators)(MediaLike);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}