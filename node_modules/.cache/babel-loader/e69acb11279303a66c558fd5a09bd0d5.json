{"ast":null,"code":"var _jsxFileName = \"/home/asus/dapify/src/templates/view/Settings/subscriptionSetting.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Button } from '@material-ui/core'; //Redux\n\nimport { useSelector, connect } from \"react-redux\";\nimport { getUserProfileById, userSubscription, fetchUser } from \"../../../Redux/actions/auth-actions\";\nimport Loader from './../../../utils/Loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SubscriptionSetting(props, _ref) {\n  _s();\n\n  var _errors$subscription_;\n\n  let {\n    history\n  } = _ref;\n  const {\n    userDetailsById,\n    authuser,\n    loading\n  } = useSelector(state => state.authReducer);\n  const [isLoader, setLoader] = useState(false);\n  const {\n    register,\n    reset,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: \"onChange\"\n  });\n  useEffect(() => {\n    async function fetchdata() {\n      if (authuser) await props.getUserProfileById(authuser.uid);\n      setLoader(loading);\n    }\n\n    fetchdata();\n  }, [authuser.uid]);\n  useEffect(() => {\n    var _userDetailsById$subs;\n\n    reset({\n      subscription_info: userDetailsById === null || userDetailsById === void 0 ? void 0 : (_userDetailsById$subs = userDetailsById.subscription) === null || _userDetailsById$subs === void 0 ? void 0 : _userDetailsById$subs.info\n    });\n  }, [userDetailsById, reset]);\n\n  const onSubmit = async event => {\n    const data = {\n      info: event.subscription_info,\n      price: 3.99\n    };\n    await props.userSubscription(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    children: [isLoader ? /*#__PURE__*/_jsxDEV(Loader, {\n      isLoader: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tab-inner-content account-settings scubcriptions\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Monthly Subscription rate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"month-susj\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            disabled: \"true\",\n            className: \"form-control log-inp\",\n            name: \"price\",\n            value: \"$3.99 (Customize Pricing at 100 Subscribers)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lma\",\n          children: \"Learn more about our fees\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-row1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Subscription Info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"month-sus1ss\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"subscription_info\",\n            className: \"form-control log-inp text-tag\",\n            ...register('subscription_info', {\n              required: true\n            }),\n            children: \"Tell your fans why they should subscribe and support you monthly! Make sure you tell them things that are important like upcoming shows, any new projects your working on and even if you want to list out your monthly expenses. \\\"Make it Good! Its your pitch to your paying fans!\\\"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), (errors === null || errors === void 0 ? void 0 : (_errors$subscription_ = errors.subscription_info) === null || _errors$subscription_ === void 0 ? void 0 : _errors$subscription_.type) === \"required\" && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"errMsg\",\n          children: \"This field is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cancel-logout-sec\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-via create-ac\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            className: \"log-btn btn\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SubscriptionSetting, \"ZC6Zx4YXJgceZPp3Rl5mZruAOb0=\", false, function () {\n  return [useSelector, useForm];\n});\n\n_c = SubscriptionSetting;\n\nconst mapStateToProps = state => {\n  return {\n    userDetailsById: state.authReducer.userDetailsById,\n    authuser: state.authReducer.authuser,\n    loading: state.authReducer.loading\n  };\n};\n\nconst actionCreators = {\n  getUserProfileById,\n  userSubscription,\n  fetchUser\n};\nexport default connect(mapStateToProps, actionCreators)(SubscriptionSetting);\n\nvar _c;\n\n$RefreshReg$(_c, \"SubscriptionSetting\");","map":{"version":3,"names":["React","useState","useEffect","useForm","Button","useSelector","connect","getUserProfileById","userSubscription","fetchUser","Loader","SubscriptionSetting","props","history","userDetailsById","authuser","loading","state","authReducer","isLoader","setLoader","register","reset","handleSubmit","formState","errors","mode","fetchdata","uid","subscription_info","subscription","info","onSubmit","event","data","price","required","type","mapStateToProps","actionCreators"],"sources":["/home/asus/dapify/src/templates/view/Settings/subscriptionSetting.js"],"sourcesContent":["import React, { useState,useEffect } from 'react'\nimport { useForm } from 'react-hook-form';\nimport { Button } from '@material-ui/core'\n\n//Redux\n\nimport { useSelector, connect } from \"react-redux\";\nimport { getUserProfileById, userSubscription,fetchUser } from \"../../../Redux/actions/auth-actions\";\nimport Loader from './../../../utils/Loader';\n\nfunction SubscriptionSetting(props, { history }) {\n  const { userDetailsById,authuser,loading } = useSelector((state) => state.authReducer);\n  const [isLoader, setLoader] = useState(false);\n\n  const {\n      register,\n      reset,\n      handleSubmit,\n      formState: { errors },\n    } = useForm({\n      mode: \"onChange\",\n    });\n\n    useEffect(() => {\n        async function fetchdata(){\n        if(authuser)\n        await props.getUserProfileById(authuser.uid);\n        setLoader(loading);\n        }\n        fetchdata();\n    },[authuser.uid]);\n\n    useEffect( () => {\n\n        reset({\n          subscription_info: userDetailsById?.subscription?.info,\n          });\n      \n    },[userDetailsById,reset]);\n \n    const onSubmit = async (event) => {\n        \n          const data = {\n              info: event.subscription_info,\n              price: 3.99,\n            \n          };\n        await props.userSubscription(data);\n    };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      {isLoader ? <Loader isLoader={true} /> : null} \n      <div className=\"tab-inner-content account-settings scubcriptions\">\n        <div className=\"form-row1\">\n          <label>Monthly Subscription rate</label>\n          <div className=\"month-susj\">\n          <input type=\"text\" disabled=\"true\" className=\"form-control log-inp\" name=\"price\" value=\"$3.99 (Customize Pricing at 100 Subscribers)\" />\n            {/* <span>$3.99</span> (Customize Pricing at 100 Subscribers) */}\n          </div>\n          <div className=\"lma\">Learn more about our fees</div>\n        </div>\n\n        <div className=\"form-row1\">\n          <label>Subscription Info</label>\n          <div className=\"month-sus1ss\">\n            <textarea name=\"subscription_info\" className=\"form-control log-inp text-tag\" {...register('subscription_info', {\n                        required: true,\n                      })} >Tell your fans why they should subscribe and support you monthly! Make sure you tell them things that are important like upcoming shows, any new projects your working on and even if you want to list out your monthly expenses.\n            \"Make it Good! Its your pitch to your paying fans!\"</textarea>\n          </div>\n          {errors?.subscription_info?.type === \"required\" && (\n            <p className=\"errMsg\">This field is required</p>\n          )}\n        </div>\n\n        <div className=\"cancel-logout-sec\">\n          <div className=\"login-via create-ac\">\n                <Button  type=\"submit\" className=\"log-btn btn\">\n                  Update\n                </Button>\n          </div>\n        </div>\n      </div>\n    </form>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    userDetailsById: state.authReducer.userDetailsById,\n    authuser: state.authReducer.authuser,\n    loading : state.authReducer.loading\n\n  }\n}\nconst actionCreators = { getUserProfileById, userSubscription,fetchUser };\nexport default connect(mapStateToProps, actionCreators)(SubscriptionSetting);\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}