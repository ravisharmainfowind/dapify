{"ast":null,"code":"var _jsxFileName = \"/home/asus/dapify/src/templates/view/Subscription/SubscriptionDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Button } from '@material-ui/core';\nimport { Link } from \"react-router-dom\";\nimport { useSelector, connect } from \"react-redux\";\nimport { fetchUser } from \"../../../Redux/actions/auth-actions\";\nimport { getUserSubscriptionExpired } from \"../../../Redux/actions/subscriber-actions\";\nimport ExpiryDate from \"../../components/subscriptionExpiryDate\";\nimport { ExpiryDateFormate, CalculateExpiryDays } from \"../../components/calendar_date\";\nimport Loader from './../../../utils/Loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SubscriptionDetails(props) {\n  _s();\n\n  const [subsId, setSubsId] = useState('');\n  const [isLoader, setLoader] = useState(true);\n  const {\n    authuser\n  } = useSelector(state => state.authReducer);\n  const {\n    subscribeExpired,\n    loading\n  } = useSelector(state => state.subscriberReducer);\n  const [expiredDate, setExpiredDate] = useState('');\n  useEffect(() => {\n    const subsid = Buffer.from(props.Subsc_UserId, 'base64').toString('ascii');\n    setSubsId(subsid);\n  }, [props]);\n  useEffect(() => {\n    async function fetchdata() {\n      const data = {\n        user_id: authuser.uid,\n        subscriberId: subsId\n      };\n      await props.getUserSubscriptionExpired(data);\n    }\n\n    fetchdata();\n  }, [subsId]);\n  useEffect(() => {}, [subsId]);\n  useEffect(() => {\n    setLoader(false);\n\n    if (subscribeExpired.date) {\n      var exp_date = ExpiryDate(subscribeExpired.date);\n\n      if (exp_date !== '') {\n        setExpiredDate(exp_date);\n      }\n\n      console.log('exp_date', exp_date);\n    }\n  }, [subscribeExpired, loading]);\n  console.log('subscribeExpired', subscribeExpired.date);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"subscription-page\",\n    children: [isLoader ? /*#__PURE__*/_jsxDEV(Loader, {\n      isLoader: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 26\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"subs-page-inn\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subs-top-txt\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Subscribe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Subscribe to support me and get exclusive content.(Merch, Advance show tickets, First Listens + More)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"WHY SUPPORT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Offer supporters the ability to hear new music before anyone else, see exclusive content and be apart of your creative process.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subs-item\",\n        children: [expiredDate !== '' ? /*#__PURE__*/_jsxDEV(Button, {\n          disabled: true,\n          className: \"btn\",\n          children: \"SUbscribed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn\",\n          to: {\n            pathname: \"/payment\",\n            state: {\n              subscribeId: subsId,\n              type: 'subscription'\n            }\n          },\n          children: \" SUbscribe \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), expiredDate !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Expired in : \", /*#__PURE__*/_jsxDEV(ExpiryDateFormate, {\n              date: expiredDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 46\n            }, this), \" (\", /*#__PURE__*/_jsxDEV(CalculateExpiryDays, {\n              date: expiredDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 88\n            }, this), \" days)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"$3.99 / Monthly\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"+ 2.9% + 30\\xA2 (Stripe Processing Fees)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"subs-item-btm\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"btn btn-danger\",\n          to: {\n            pathname: \"/payment\",\n            state: {\n              subscribeId: subsId,\n              type: 'one_time_support'\n            }\n          },\n          children: \"DAP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"$25 / One time Support\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"This is a one time payment [DAP] to support this artist. To access exclusive content, direct communication and more please subscribe.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"+ 2.9% + 30\\xA2 (Stripe Processing Fees)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SubscriptionDetails, \"26nEZuACU+mvoYRXDJJiZlS0wZw=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = SubscriptionDetails;\n\nconst mapStateToProps = state => {\n  return {\n    subscribeExpired: state.subscriberReducer.subscribeExpired,\n    authuser: state.authReducer.authuser,\n    loading: state.subscriberReducer.loading\n  };\n};\n\nconst actionCreators = {\n  getUserSubscriptionExpired,\n  fetchUser\n};\nexport default connect(mapStateToProps, actionCreators)(SubscriptionDetails);\n\nvar _c;\n\n$RefreshReg$(_c, \"SubscriptionDetails\");","map":{"version":3,"names":["React","useState","useEffect","Button","Link","useSelector","connect","fetchUser","getUserSubscriptionExpired","ExpiryDate","ExpiryDateFormate","CalculateExpiryDays","Loader","SubscriptionDetails","props","subsId","setSubsId","isLoader","setLoader","authuser","state","authReducer","subscribeExpired","loading","subscriberReducer","expiredDate","setExpiredDate","subsid","Buffer","from","Subsc_UserId","toString","fetchdata","data","user_id","uid","subscriberId","date","exp_date","console","log","pathname","subscribeId","type","mapStateToProps","actionCreators"],"sources":["/home/asus/dapify/src/templates/view/Subscription/SubscriptionDetails.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport { Button } from '@material-ui/core'\nimport { Link } from \"react-router-dom\";\nimport { useSelector, connect } from \"react-redux\";\nimport { fetchUser } from \"../../../Redux/actions/auth-actions\";\nimport { getUserSubscriptionExpired } from \"../../../Redux/actions/subscriber-actions\";\nimport ExpiryDate from \"../../components/subscriptionExpiryDate\";\nimport {ExpiryDateFormate,CalculateExpiryDays} from \"../../components/calendar_date\";\nimport Loader from './../../../utils/Loader';\n\nfunction SubscriptionDetails(props) {\n\n    const [subsId, setSubsId] = useState('');\n    const [isLoader, setLoader] = useState(true);\n    const { authuser } = useSelector((state) => state.authReducer);\n    const { subscribeExpired,loading } = useSelector((state) => state.subscriberReducer);\n    const [expiredDate, setExpiredDate] = useState('');\n    \n    useEffect(() => {\n        const subsid = Buffer.from(props.Subsc_UserId, 'base64').toString('ascii');\n        setSubsId(subsid);\n       },[props]);\n\n    useEffect(() => {\n        async function fetchdata() {\n            const data ={\n                user_id:authuser.uid,\n                subscriberId:subsId,\n            }\n            await props.getUserSubscriptionExpired(data);\n         }\n         fetchdata();\n\n    },[subsId]);   \n\n    useEffect(() => {\n   \n    },[subsId]);\n\n    useEffect(() => {\n        setLoader(false);\n        if(subscribeExpired.date){\n            var exp_date = ExpiryDate(subscribeExpired.date);\n            if(exp_date !== ''){\n                \n                setExpiredDate(exp_date);\n            }\n            console.log('exp_date',exp_date);\n        }\n\n    },[subscribeExpired,loading]);\n   \n  \n    console.log('subscribeExpired',subscribeExpired.date);\n    \n    return (\n        <div className='subscription-page'>\n             {isLoader ? <Loader isLoader={true} /> : null}\n            <div className='subs-page-inn'>\n                <div className='subs-top-txt'>\n                    <h5>Subscribe</h5>\n                    <p>Subscribe to support me and get exclusive content.(Merch, Advance show tickets, First Listens + More)</p>\n                    <h4>WHY SUPPORT</h4>\n                    <h6>Offer supporters the ability to hear new music before anyone else, see exclusive content and be apart of your creative process.</h6>\n                </div>\n                <div className='subs-item'>\n                    {expiredDate !== '' ?\n\n                        <Button disabled={true} className='btn'>SUbscribed</Button>\n                        :\n                        <Link className='btn' to ={{\n                            pathname: \"/payment\", \n                            state: { \n                                subscribeId: subsId, \n                                type: 'subscription', \n                            }\n                            }} > SUbscribe </Link>\n                    }\n                   \n                    {expiredDate !=='' ? \n                        <div>\n                            <h6>Expired in : <ExpiryDateFormate date={expiredDate} /> (<CalculateExpiryDays date={expiredDate} /> days)</h6>\n                        </div>\n                        :\n                        <h4>$3.99 / Monthly</h4>\n                    }\n                    <h6>+ 2.9% + 30¢ (Stripe Processing Fees)</h6>\n                </div>\n                <div className='subs-item-btm'>\n                    <Link className='btn btn-danger' to ={{\n                        pathname: \"/payment\", \n                        state: { \n                            subscribeId: subsId, \n                            type: 'one_time_support', \n                        }\n                        }} >DAP\n                        </Link>\n                    {/* <Button className='btn'>DAP</Button> */}\n                    <h4>$25 / One time Support</h4>\n                    <p>This is a one time payment [DAP] to support this artist. To access exclusive content, direct communication and more please subscribe.</p>\n                    <h6>+ 2.9% + 30¢ (Stripe Processing Fees)</h6>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n\n\nconst mapStateToProps = (state) => {\n    return {\n        subscribeExpired: state.subscriberReducer.subscribeExpired,\n        authuser: state.authReducer.authuser,\n        loading: state.subscriberReducer.loading,\n    }\n}\n\nconst actionCreators = { getUserSubscriptionExpired,fetchUser };\nexport default connect(mapStateToProps, actionCreators)(SubscriptionDetails);\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}