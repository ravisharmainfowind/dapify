{"ast":null,"code":"var _jsxFileName = \"/home/asus/dapify/src/templates/components/mediaBookmark.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { MediaMusicBookmark, getUserMediaMusic } from \"../../Redux/actions/media-actions\";\nimport { useSelector, connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MediaBookmark(props) {\n  _s();\n\n  const {\n    music_content_bookmark\n  } = useSelector(state => state.mediaReducer);\n  const [btnDisable, setbtnDisable] = useState(false);\n  const [userBookmark, setUserBookmark] = useState(false);\n  useEffect(() => {\n    if (props.mediaBookmarkData !== '') {\n      setbtnDisable(false);\n      var userBookmarkStatus = false;\n\n      if (props.mediaBookmarkData) {\n        for (var i in props.mediaBookmarkData) {\n          if (i === props.userid) {\n            userBookmarkStatus = true;\n          }\n        }\n\n        setUserBookmark(userBookmarkStatus);\n      }\n    }\n  }, [props, music_content_bookmark, userBookmark]);\n\n  const handleBookmark = async event => {\n    if (event) {\n      if (btnDisable === false) {\n        setbtnDisable(true);\n        var flag = false;\n        var data = '';\n        var result = {};\n\n        for (var i in props.mediaBookmarkData) {\n          if (i === props.userid) {\n            flag = true;\n          } else {\n            result[i] = props.mediaBookmarkData[i];\n          }\n        }\n\n        if (flag) {\n          let uid = props.userid;\n          data = {\n            id: event,\n            user_bookmark: result,\n            type: 'remove_bookmark',\n            by_id: uid\n          };\n        } else {\n          let uid = props.userid;\n          data = {\n            id: event,\n            user_bookmark: {\n              [uid]: true\n            },\n            type: 'bookmark',\n            by_id: uid\n          };\n        }\n\n        await props.MediaMusicBookmark(data);\n      }\n    }\n  };\n\n  return userBookmark === true ? /*#__PURE__*/_jsxDEV(\"img\", {\n    disabled: btnDisable,\n    onClick: () => handleBookmark(props.media_id),\n    src: require('../../assets/images/Path-fill.svg').default,\n    alt: \"\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n    disabled: btnDisable,\n    onClick: () => handleBookmark(props.media_id),\n    src: require('../../assets/images/Path.svg').default,\n    alt: \"\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 13\n  }, this);\n}\n\n_s(MediaBookmark, \"xVOsYhpN9cvogDfgRqh3obm9DyQ=\", false, function () {\n  return [useSelector];\n});\n\n_c = MediaBookmark;\n\nconst mapStateToProps = state => {\n  return {\n    music_content_bookmark: state.mediaReducer.music_content_bookmark\n  };\n};\n\nconst actionCreators = {\n  MediaMusicBookmark,\n  getUserMediaMusic\n};\nexport default connect(mapStateToProps, actionCreators)(MediaBookmark);\n\nvar _c;\n\n$RefreshReg$(_c, \"MediaBookmark\");","map":{"version":3,"names":["React","useState","useEffect","MediaMusicBookmark","getUserMediaMusic","useSelector","connect","MediaBookmark","props","music_content_bookmark","state","mediaReducer","btnDisable","setbtnDisable","userBookmark","setUserBookmark","mediaBookmarkData","userBookmarkStatus","i","userid","handleBookmark","event","flag","data","result","uid","id","user_bookmark","type","by_id","media_id","require","default","mapStateToProps","actionCreators"],"sources":["/home/asus/dapify/src/templates/components/mediaBookmark.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { MediaMusicBookmark,getUserMediaMusic } from \"../../Redux/actions/media-actions\";\nimport { useSelector, connect } from \"react-redux\";\n\nfunction MediaBookmark(props) {\n    \n    const { music_content_bookmark } = useSelector((state) => state.mediaReducer);\n    const [btnDisable, setbtnDisable] = useState(false);\n    const [userBookmark, setUserBookmark] = useState(false);\n\n    useEffect(() => {\n       \n        if (props.mediaBookmarkData !== '') {\n            setbtnDisable(false);\n            var userBookmarkStatus = false;\n            if(props.mediaBookmarkData){\n\n                for(var i in props.mediaBookmarkData)\n                {\n                    if(i === props.userid ){ \n                        userBookmarkStatus = true;                 \n                    }\n                }\n                setUserBookmark(userBookmarkStatus);\n               \n            }\n        }\n    }, [props,music_content_bookmark,userBookmark]);\n\n    const handleBookmark = async (event) => {\n        \n        if(event){\n            if(btnDisable === false)\n            {\n                setbtnDisable(true);\n                var flag = false;\n                var data ='';\n                var result = {};\n\n                for(var i in props.mediaBookmarkData)\n                {\n                    if(i === props.userid){   \n                        flag = true;\n                    }\n                    else{\n\n                        result[i] = props.mediaBookmarkData[i];\n                    }\n                }\n\n                if(flag){\n                    let uid = props.userid;\n                    data = {\n                        id: event,\n                        user_bookmark: result,\n                        type: 'remove_bookmark',\n                        by_id :uid,\n                    };\n                \n                }else{\n                    let uid = props.userid;\n                    \n                    data = {\n                        id: event,\n                        user_bookmark: {\n                            [uid] : true\n                        } ,\n                        type: 'bookmark',\n                        by_id :uid,\n                    };\n                }\n                await props.MediaMusicBookmark(data);\n            }\n        }\n    };\n\n    return (\n        userBookmark === true ? (\n            <img disabled={btnDisable} onClick={() => handleBookmark(props.media_id)} src={require('../../assets/images/Path-fill.svg').default} alt='' />\n        ) \n        : (\n            <img disabled={btnDisable} onClick={() => handleBookmark(props.media_id)} src={require('../../assets/images/Path.svg').default} alt='' />\n        )\n       \n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        music_content_bookmark: state.mediaReducer.music_content_bookmark,\n    }\n}\n\nconst actionCreators = {MediaMusicBookmark,getUserMediaMusic };\nexport default connect(mapStateToProps,actionCreators)(MediaBookmark);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}